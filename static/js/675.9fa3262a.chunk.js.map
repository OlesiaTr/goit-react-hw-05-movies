{"version":3,"file":"static/js/675.9fa3262a.chunk.js","mappings":"8LAGaA,EAAS,WACpB,OACE,SAAC,KAAD,CACEC,OAAO,MACPC,MAAM,MACNC,MAAM,UACNC,OAAO,IACPC,aAAc,CACZC,SAAU,QACVC,IAAK,MACLC,KAAM,OACNC,UAAW,yBAEbC,aAAa,GACbC,SAAS,EACTC,UAAU,iBAGf,C,mNCfYC,GAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,+P,SCAVE,EAAW,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,SAC7B,OACE,UAACL,EAAD,CAAYI,GAAIA,EAAhB,WACE,SAAC,MAAD,CAAaE,KAAK,OACjBD,IAGN,E,UCVYE,EAAWN,EAAAA,GAAAA,IAAH,kFAORO,EAASP,EAAAA,GAAAA,IAAH,yCAINQ,EAAYR,EAAAA,GAAAA,IAAH,0GCPTS,EAAY,SAAC,GAEnB,IAAD,IADJC,MAASC,EACL,EADKA,YAAaC,EAClB,EADkBA,eAAgBC,EAClC,EADkCA,aAAcC,EAChD,EADgDA,SAAUC,EAC1D,EAD0DA,OAAQC,EAClE,EADkEA,MAEtE,OACE,UAACV,EAAD,YACE,SAACC,EAAD,WACE,gBAAKU,KAAKC,EAAAA,EAAAA,GAAeP,GAAcQ,IAAG,OAAEH,QAAF,IAAEA,EAAAA,EAASJ,OAEvD,UAACJ,EAAD,YACE,+BAAKQ,QAAL,IAAKA,EAAAA,EAASJ,KACd,wCACeC,EAAeA,EAAaO,QAAQ,GAAK,mBAExD,sCACA,uBAAIN,GAAsB,0CAC1B,oCACA,uBACGC,EACGA,EAAOM,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,MACrC,kCAKb,ECzBYC,EAAiBzB,EAAAA,GAAAA,IAAH,mFAMdD,GAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,+PCoEvB,EA9DqB,WAAO,IAAD,IACzB,GAA0B0B,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOhB,EAAP,KAAciB,EAAd,KACA,GAA8BD,EAAAA,EAAAA,WAAS,GAAvC,eAAOE,EAAP,KAAgBC,EAAhB,KACA,GAA0BH,EAAAA,EAAAA,UAAS,IAAnC,eAAOI,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAuB7C,OArBAC,EAAAA,EAAAA,YAAU,WACHR,GACLS,EAAAA,GAAAA,MAAYT,EACb,GAAE,CAACA,KAEJQ,EAAAA,EAAAA,YAAU,WACR,IAAME,EAAQ,mCAAG,oGAEbX,GAAW,GACXE,EAAS,IAHI,UAIMU,EAAAA,EAAAA,IAAeT,GAJrB,OAIPU,EAJO,OAKbf,EAASe,GACTb,GAAW,GANE,kDAQbE,EAAS,6CARI,0DAAH,qDAYdS,GACD,GAAE,CAACR,KAGF,4BACGJ,IAAW,SAAC1C,EAAA,EAAD,KAEV4C,IAAUF,IACV,SAAC1B,EAAD,CAAUC,GAAI+B,EAAd,kCAGAJ,IAAUF,IAAW,SAACnB,EAAD,CAAWC,MAAOA,KAEvCoB,IAAUF,IACV,UAACH,EAAD,YACE,qDACA,2BACE,yBACE,SAAC,EAAD,CAAYtB,GAAG,OAAf,0CAEF,yBACE,SAAC,EAAD,CAAYA,GAAG,UAAf,0CAGJ,SAAC,EAAAwC,SAAD,CAAUC,UAAU,gDAApB,UACE,SAAC,KAAD,UAKN,SAAC,KAAD,CAASpD,SAAS,gBAGvB,C,4MC1EDqD,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAS,CACbC,QAAQ,GAAD,OAAKC,oCACZC,SAAU,QACVC,eAAe,GAIJC,EAAiB,mCAAG,sGACRN,EAAAA,EAAAA,IAAU,uBAAwB,CAAEC,OAAAA,IAD5B,uBACvBJ,EADuB,EACvBA,KADuB,kBAExBA,GAFwB,2CAAH,qDAKjBU,EAAc,mCAAG,WAAMC,GAAN,yFACLR,EAAAA,EAAAA,IAAU,iBAAkB,CACjDC,QAAO,QAAGO,MAAAA,GAAUP,KAFM,uBACpBJ,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,sDAOdD,EAAc,mCAAG,WAAMa,GAAN,yFACLT,EAAAA,EAAAA,IAAA,iBAAoBS,GAAM,CAAER,OAAAA,IADvB,uBACpBJ,EADoB,EACpBA,KADoB,kBAErBA,GAFqB,2CAAH,sDAKda,EAAW,mCAAG,WAAMD,GAAN,yFACFT,EAAAA,EAAAA,IAAA,iBAAoBS,EAApB,aAAmC,CAAER,OAAAA,IADnC,uBACjBJ,EADiB,EACjBA,KADiB,kBAElBA,GAFkB,2CAAH,sDAKXc,EAAc,mCAAG,WAAMF,GAAN,yFACLT,EAAAA,EAAAA,IAAA,iBAAoBS,EAApB,aAAmC,CAAER,OAAAA,IADhC,uBACpBJ,EADoB,EACpBA,KADoB,kBAErBA,GAFqB,2CAAH,qD,uDCnCpB,IAAMxB,EAAiB,SAAAuC,GAC5B,OAAKA,EACC,mCAAN,OAA0CA,GADtB,uDAErB,C","sources":["components/Loader/Loader.js","components/BackLink/BackLink.styled.js","components/BackLink/BackLink.jsx","components/MovieInfo/MovieInfo.styled.js","components/MovieInfo/MovieInfo.jsx","pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.jsx","services/movieDatabaseAPI.js","services/posterTemplate.js"],"sourcesContent":["// Utils\nimport { Rings } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Rings\n      height=\"200\"\n      width=\"200\"\n      color=\"#fb6d3a\"\n      radius=\"6\"\n      wrapperStyle={{\n        position: 'fixed',\n        top: '50%',\n        left: ' 50%',\n        transform: 'translate(-50%, -50%)',\n      }}\n      wrapperClass=\"\"\n      visible={true}\n      ariaLabel=\"rings-loading\"\n    />\n  );\n};\n","// Core\nimport { Link } from 'react-router-dom';\n\n// Utils\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n\n  padding: 8px 0;\n\n  color: inherit;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: rgb(251, 109, 58);\n  }\n`;\n","// Utils\nimport { HiArrowLeft } from 'react-icons/hi';\n\n// Styles\nimport { StyledLink } from './BackLink.styled';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <HiArrowLeft size=\"24\" />\n      {children}\n    </StyledLink>\n  );\n};\n","// Utils\nimport styled from 'styled-components';\n\nexport const InfoWrap = styled.div`\n  display: flex;\n  gap: 30px;\n\n  margin-bottom: 20px;\n`;\n\nexport const Poster = styled.div`\n  width: 300px;\n`;\n\nexport const InfoBlock = styled.div`\n  width: 600px;\n\n  > p {\n    margin-top: 10px;\n    margin-bottom: 30px;\n  }\n`;\n","// Utils\nimport PropTypes from 'prop-types';\nimport { posterTemplate } from 'services/posterTemplate';\n\n// Styles\nimport { InfoWrap, Poster, InfoBlock } from './MovieInfo.styled';\n\nexport const MovieInfo = ({\n  movie: { poster_path, original_title, vote_average, overview, genres, title },\n}) => {\n  return (\n    <InfoWrap>\n      <Poster>\n        <img src={posterTemplate(poster_path)} alt={title ?? original_title} />\n      </Poster>\n      <InfoBlock>\n        <h1>{title ?? original_title}</h1>\n        <p>\n          User Score: {vote_average ? vote_average.toFixed(1) : 'No score yet'}\n        </p>\n        <h2>Overview</h2>\n        <p>{overview ? overview : \"Sorry, we don't have an overview yet\"}</p>\n        <h3>Genres</h3>\n        <p>\n          {genres\n            ? genres.map(genre => genre.name).join(', ')\n            : \"Genres weren't added yet\"}\n        </p>\n      </InfoBlock>\n    </InfoWrap>\n  );\n};\n\nMovieInfo.propTypes = {\n  movie: PropTypes.object.isRequired,\n};\n","// Core\nimport { Link } from 'react-router-dom';\n\n// Utils\nimport styled from 'styled-components';\n\nexport const SubPageWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n`;\n\nexport const StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n\n  padding: 8px 0;\n\n  color: inherit;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: rgb(251, 109, 58);\n  }\n`;\n","// Core\nimport { useState, useEffect, Suspense } from 'react';\n\n// Utils\nimport { useParams, useLocation, Outlet } from 'react-router-dom';\nimport { toast, Toaster } from 'react-hot-toast';\n\n// API\nimport { getPrimaryInfo } from 'services/movieDatabaseAPI';\n\n// Components\nimport { Loader } from 'components/Loader';\nimport { BackLink } from 'components/BackLink';\nimport { MovieInfo } from 'components/MovieInfo';\n\n// Styles\nimport { SubPageWrapper, StyledLink } from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    if (!error) return;\n    toast.error(error);\n  }, [error]);\n\n  useEffect(() => {\n    const getMovie = async () => {\n      try {\n        setLoading(true);\n        setError('');\n        const data = await getPrimaryInfo(movieId);\n        setMovie(data);\n        setLoading(false);\n      } catch {\n        setError(\"Sorry, the movie wasn't foundðŸ˜–\");\n      }\n    };\n\n    getMovie();\n  }, [movieId]);\n\n  return (\n    <main>\n      {loading && <Loader />}\n\n      {!error && !loading && (\n        <BackLink to={backLinkHref}>Back to movies list</BackLink>\n      )}\n\n      {!error && !loading && <MovieInfo movie={movie} />}\n\n      {!error && !loading && (\n        <SubPageWrapper>\n          <h2>Additional Information:</h2>\n          <ul>\n            <li>\n              <StyledLink to=\"cast\">Learn more about the cast</StyledLink>\n            </li>\n            <li>\n              <StyledLink to=\"reviews\">Go through the reviews</StyledLink>\n            </li>\n          </ul>\n          <Suspense fallback={<div>Loading subpage...</div>}>\n            <Outlet />\n          </Suspense>\n        </SubPageWrapper>\n      )}\n\n      <Toaster position=\"top-right\" />\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","// Utils\nimport axios from 'axios';\n\n// Setups\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst params = {\n  api_key: `${process.env.REACT_APP_MOVIE_DATABASE}`,\n  language: 'en-US',\n  include_adult: false,\n};\n\n// HTTP requests\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get('/trending/movie/day?', { params });\n  return data;\n};\n\nexport const getMovieByName = async query => {\n  const { data } = await axios.get('/search/movie?', {\n    params: { query, ...params },\n  });\n  return data;\n};\n\nexport const getPrimaryInfo = async id => {\n  const { data } = await axios.get(`/movie/${id}`, { params });\n  return data;\n};\n\nexport const getCastInfo = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?`, { params });\n  return data;\n};\n\nexport const getReviewsInfo = async id => {\n  const { data } = await axios.get(`/movie/${id}/reviews?`, { params });\n  return data;\n};\n","export const posterTemplate = poster => {\n  if (!poster) return 'https://www.movienewz.com/img/films/poster-holder.jpg';\n  return `https://image.tmdb.org/t/p/w300/${poster}`;\n};\n"],"names":["Loader","height","width","color","radius","wrapperStyle","position","top","left","transform","wrapperClass","visible","ariaLabel","StyledLink","styled","Link","BackLink","to","children","size","InfoWrap","Poster","InfoBlock","MovieInfo","movie","poster_path","original_title","vote_average","overview","genres","title","src","posterTemplate","alt","toFixed","map","genre","name","join","SubPageWrapper","useState","setMovie","loading","setLoading","error","setError","movieId","useParams","backLinkHref","useLocation","state","from","useEffect","toast","getMovie","getPrimaryInfo","data","Suspense","fallback","axios","params","api_key","process","language","include_adult","getTrendingMovies","getMovieByName","query","id","getCastInfo","getReviewsInfo","poster"],"sourceRoot":""}