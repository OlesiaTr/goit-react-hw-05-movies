"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[186],{2619:function(e,t,r){r.d(t,{a:function(){return o}});var n=r(5243),a=r(184),o=function(){return(0,a.jsx)(n._P,{height:"200",width:"200",color:"#fb6d3a",radius:"6",wrapperStyle:{position:"fixed",top:"50%",left:" 50%",transform:"translate(-50%, -50%)"},wrapperClass:"",visible:!0,ariaLabel:"rings-loading"})}},186:function(e,t,r){r.r(t);var n=r(5861),a=r(9439),o=r(7757),i=r.n(o),u=r(2791),s=r(5218),c=r(7689),p=r(1200),f=r(2619),v=r(184);t.default=function(){var e=(0,u.useState)([]),t=(0,a.Z)(e,2),r=t[0],o=t[1],d=(0,u.useState)(!1),l=(0,a.Z)(d,2),h=l[0],m=l[1],w=(0,u.useState)(""),g=(0,a.Z)(w,2),x=g[0],y=g[1],b=(0,c.UO)().movieId;return(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),y(""),e.next=5,(0,p.jr)(b);case 5:t=e.sent,o(t),m(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),y("Oops, something went wrong. Please, try again later!");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[b]),(0,u.useEffect)((function(){x&&s.Am.error(x)}),[x]),(0,v.jsxs)(v.Fragment,{children:[h&&(0,v.jsx)(f.a,{}),r.length>0&&r.map((function(e){var t=e.author,r=e.id,n=e.content;return(0,v.jsxs)("div",{children:[(0,v.jsxs)("h3",{style:{fontWeight:"bold",marginBottom:"5px"},children:["Author: ",t]}),(0,v.jsx)("p",{children:n})]},r)})),0===r.length&&(0,v.jsxs)("h3",{style:{fontWeight:"bold",marginBottom:"5px"},children:[" ","Sorry, no reviews yet"]}),(0,v.jsx)(s.x7,{position:"top-right"})]})}},1200:function(e,t,r){r.d(t,{Gc:function(){return d},Pt:function(){return f},Ti:function(){return v},jr:function(){return l},Df:function(){return p}});var n=r(1413),a=r(5861),o=r(7757),i=r.n(o),u=r(3263),s=function(e){return e?"https://image.tmdb.org/t/p/w300/".concat(e):"https://www.movienewz.com/img/films/poster-holder.jpg"};u.Z.defaults.baseURL="https://api.themoviedb.org/3";var c={api_key:"".concat("bcd9026f26ad8620dc91ae9bb750788a"),language:"en-US",include_adult:!1},p=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/trending/movie/day?",{params:c});case 2:return t=e.sent,r=t.data,e.abrupt("return",h(r.results));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(i().mark((function e(t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/search/movie?",{params:(0,n.Z)({query:t},c)});case 2:return r=e.sent,a=r.data,e.abrupt("return",h(a.results));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n,a,o,p,f,v,d,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t),{params:c});case 2:return r=e.sent,n=r.data,a=n.id,o=n.original_title,p=n.poster_path,f=n.title,v=n.vote_average,d=n.overview,l=n.genres,e.abrupt("return",{id:a,title:null!==f&&void 0!==f?f:o,poster:s(p),vote:v?v.toFixed(1):"No score yet",overview:d||"Sorry, we don't have an overview yet",genres:l?l.map((function(e){return e.name})).join(", "):"Genres weren't added yet"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/credits?"),{params:c});case 2:return r=e.sent,n=r.data,e.abrupt("return",m(n.cast));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/reviews?"),{params:c});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return e.map((function(e){var t=e.id,r=e.original_title,n=e.poster_path,a=e.title,o=e.vote_average,i=e.overview,u=e.genres;return{id:t,title:null!==a&&void 0!==a?a:r,poster:s(n),vote:o?o.toFixed(1):"No score yet",overview:i||"Sorry, we don't have an overview yet",genres:u?u.map((function(e){return e.name})).join(", "):"Genres weren't added yet"}}))},m=function(e){return e.map((function(e){var t=e.id,r=e.original_name,n=e.profile_path,a=e.character;return{id:t,name:r,poster:s(n),character:a}}))}}}]);
//# sourceMappingURL=186.c2e91701.chunk.js.map