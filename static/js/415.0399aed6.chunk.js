"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[415],{2619:function(e,t,r){r.d(t,{a:function(){return i}});var n=r(5243),a=r(184),i=function(){return(0,a.jsx)(n._P,{height:"200",width:"200",color:"#fb6d3a",radius:"6",wrapperStyle:{position:"fixed",top:"50%",left:" 50%",transform:"translate(-50%, -50%)"},wrapperClass:"",visible:!0,ariaLabel:"rings-loading"})}},8500:function(e,t,r){r.d(t,{O:function(){return l}});var n,a,i,o=r(1087),u=r(7689),s=r(168),c=r(6444),p=c.ZP.ul(n||(n=(0,s.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 200px);\n  justify-content: center;\n  gap: 20px;\n"]))),f=c.ZP.li(a||(a=(0,s.Z)(["\n  border-radius: 4px;\n  > a {\n    text-decoration: none;\n  }\n"]))),d=c.ZP.h3(i||(i=(0,s.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n"]))),v=r(184),l=function(e){var t=e.data,r=(0,u.TH)();return(0,v.jsx)(p,{children:t.map((function(e){var t=e.id,n=e.title,a=e.poster;return(0,v.jsx)(f,{children:(0,v.jsxs)(o.rU,{to:"/movies/".concat(t),state:{from:r},children:[(0,v.jsx)("img",{src:a,alt:n}),(0,v.jsx)(d,{children:n})]})},t)}))})}},5415:function(e,t,r){r.r(t);var n=r(5861),a=r(9439),i=r(7757),o=r.n(i),u=r(2791),s=r(5218),c=r(1200),p=r(2619),f=r(8500),d=r(184);t.default=function(){var e=(0,u.useState)(null),t=(0,a.Z)(e,2),r=t[0],i=t[1],v=(0,u.useState)(!1),l=(0,a.Z)(v,2),m=l[0],h=l[1],g=(0,u.useState)(""),w=(0,a.Z)(g,2),x=w[0],y=w[1];return(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),y(""),e.next=5,(0,c.Df)();case 5:t=e.sent,i(t),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),y("Oops, something went wrong. Please, try again later!");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,u.useEffect)((function(){x&&s.Am.error(x)}),[x]),(0,d.jsxs)("main",{children:[(0,d.jsx)("h1",{style:{textAlign:"center",marginBottom:"10px"},children:"Trending movies today"}),m&&(0,d.jsx)(p.a,{}),r&&(0,d.jsx)(f.O,{data:r}),(0,d.jsx)(s.x7,{position:"top-right"})]})}},1200:function(e,t,r){r.d(t,{Gc:function(){return v},Pt:function(){return f},Ti:function(){return d},jr:function(){return l},Df:function(){return p}});var n=r(1413),a=r(5861),i=r(7757),o=r.n(i),u=r(3263),s=function(e){return e?"https://image.tmdb.org/t/p/w300/".concat(e):"https://www.movienewz.com/img/films/poster-holder.jpg"};u.Z.defaults.baseURL="https://api.themoviedb.org/3";var c={api_key:"bcd9026f26ad8620dc91ae9bb750788a",language:"en-US",include_adult:!1},p=function(){var e=(0,a.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/trending/movie/day?",{params:c});case 2:return t=e.sent,r=t.data,e.abrupt("return",m(r.results));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/search/movie?",{params:(0,n.Z)({query:t},c)});case 2:return r=e.sent,a=r.data,e.abrupt("return",m(a.results));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n,a,i,p,f,d,v,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t),{params:c});case 2:return r=e.sent,n=r.data,a=n.id,i=n.original_title,p=n.poster_path,f=n.title,d=n.vote_average,v=n.overview,l=n.genres,e.abrupt("return",{id:a,title:null!==f&&void 0!==f?f:i,poster:s(p),vote:d?d.toFixed(1):"No score yet",overview:v||"Sorry, we don't have an overview yet",genres:l?l.map((function(e){return e.name})).join(", "):"Genres weren't added yet"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/credits?"),{params:c});case 2:return r=e.sent,n=r.data,e.abrupt("return",h(n.cast));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/reviews?"),{params:c});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return e.map((function(e){var t=e.id,r=e.original_title,n=e.poster_path,a=e.title,i=e.vote_average,o=e.overview,u=e.genres;return{id:t,title:null!==a&&void 0!==a?a:r,poster:s(n),vote:i?i.toFixed(1):"No score yet",overview:o||"Sorry, we don't have an overview yet",genres:u?u.map((function(e){return e.name})).join(", "):"Genres weren't added yet"}}))},h=function(e){return e.map((function(e){var t=e.id,r=e.original_name,n=e.profile_path,a=e.character;return{id:t,name:r,poster:s(n),character:a}}))}}}]);
//# sourceMappingURL=415.0399aed6.chunk.js.map