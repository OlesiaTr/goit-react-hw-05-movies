"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[387],{3387:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n,a,i=r(5861),o=r(9439),u=r(7757),s=r.n(u),c=r(2791),p=r(7689),f=r(5218),d=r(1200),v=r(2619),l=r(168),h=r(6444),m=h.ZP.ul(n||(n=(0,l.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 200px);\n  justify-content: center;\n  gap: 20px;\n"]))),w=h.ZP.div(a||(a=(0,l.Z)(["\n  width: 200px;\n"]))),g=r(184),x=function(){var e=(0,c.useState)([]),t=(0,o.Z)(e,2),r=t[0],n=t[1],a=(0,c.useState)(!1),u=(0,o.Z)(a,2),l=u[0],h=u[1],x=(0,c.useState)(""),y=(0,o.Z)(x,2),Z=y[0],b=y[1],j=(0,p.UO)().movieId;return(0,c.useEffect)((function(){Z&&f.Am.error(Z)}),[Z]),(0,c.useEffect)((function(){var e=function(){var e=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),b(""),e.next=5,(0,d.Gc)(j);case 5:t=e.sent,n(t),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b("Oops, something went wrong. Please, try reloading the page!");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]),(0,g.jsxs)(g.Fragment,{children:[l&&(0,g.jsx)(v.a,{}),(0,g.jsx)(m,{children:r.map((function(e){var t=e.name,r=e.id,n=e.poster,a=e.character;return(0,g.jsxs)("li",{children:[(0,g.jsx)(w,{children:(0,g.jsx)("img",{src:n,alt:t})}),(0,g.jsx)("p",{style:{fontWeight:"bold",marginBottom:"5px"},children:t}),(0,g.jsxs)("p",{children:["Character: ",a]})]},r)}))}),(0,g.jsx)(f.x7,{position:"top-right"})]})}},2619:function(e,t,r){r.d(t,{a:function(){return i}});var n=r(5243),a=r(184),i=function(){return(0,a.jsx)(n._P,{height:"200",width:"200",color:"#fb6d3a",radius:"6",wrapperStyle:{position:"fixed",top:"50%",left:" 50%",transform:"translate(-50%, -50%)"},wrapperClass:"",visible:!0,ariaLabel:"rings-loading"})}},1200:function(e,t,r){r.d(t,{Gc:function(){return v},Pt:function(){return f},Ti:function(){return d},jr:function(){return l},Df:function(){return p}});var n=r(1413),a=r(5861),i=r(7757),o=r.n(i),u=r(3263),s=function(e){return e?"https://image.tmdb.org/t/p/w300/".concat(e):"https://www.movienewz.com/img/films/poster-holder.jpg"};u.Z.defaults.baseURL="https://api.themoviedb.org/3";var c={api_key:"bcd9026f26ad8620dc91ae9bb750788a",language:"en-US",include_adult:!1},p=function(){var e=(0,a.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/trending/movie/day?",{params:c});case 2:return t=e.sent,r=t.data,e.abrupt("return",h(r.results));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/search/movie?",{params:(0,n.Z)({query:t},c)});case 2:return r=e.sent,a=r.data,e.abrupt("return",h(a.results));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n,a,i,p,f,d,v,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t),{params:c});case 2:return r=e.sent,n=r.data,a=n.id,i=n.original_title,p=n.poster_path,f=n.title,d=n.vote_average,v=n.overview,l=n.genres,e.abrupt("return",{id:a,title:null!==f&&void 0!==f?f:i,poster:s(p),vote:d?d.toFixed(1):"No score yet",overview:v||"Sorry, we don't have an overview yet",genres:l?l.map((function(e){return e.name})).join(", "):"Genres weren't added yet"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/credits?"),{params:c});case 2:return r=e.sent,n=r.data,e.abrupt("return",m(n.cast));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/reviews?"),{params:c});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return e.map((function(e){var t=e.id,r=e.original_title,n=e.poster_path,a=e.title,i=e.vote_average,o=e.overview,u=e.genres;return{id:t,title:null!==a&&void 0!==a?a:r,poster:s(n),vote:i?i.toFixed(1):"No score yet",overview:o||"Sorry, we don't have an overview yet",genres:u?u.map((function(e){return e.name})).join(", "):"Genres weren't added yet"}}))},m=function(e){return e.map((function(e){var t=e.id,r=e.original_name,n=e.profile_path,a=e.character;return{id:t,name:r,poster:s(n),character:a}}))}}}]);
//# sourceMappingURL=387.984fc42b.chunk.js.map